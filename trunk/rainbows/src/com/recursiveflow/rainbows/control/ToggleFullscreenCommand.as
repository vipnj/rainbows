package com.recursiveflow.rainbows.control {    import com.recursiveflow.shared.controller.BaseCommand;            import flash.display.Stage;    import flash.display.StageDisplayState;        import com.recursiveflow.rainbows.Application;        /**     * Logic controlling how to toggle between native resolution and fullscreen mode.     *      * @author Alastair Dant     */    public class ToggleFullscreenCommand extends BaseCommand    {        private var stage : Stage;        private var parent : Application;        public function ToggleFullscreenCommand(parent:Application)         {            this.parent = parent;            this.stage = parent.stage;        }        public override function execute(context : Object) : void        {            try             {            	if (stage.displayState == StageDisplayState.FULL_SCREEN)             	{            		parent.reactivateRainbowMaker();            		stage.displayState = StageDisplayState.NORMAL;            	}            	else            	{            		parent.deactivateRainbowMaker();            		stage.displayState = StageDisplayState.FULL_SCREEN;            	}            }             catch (err : SecurityError)             {                // security prohibits fullscreen mode - could pop up warning here...            }          	        }    }}